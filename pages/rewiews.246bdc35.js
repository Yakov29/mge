var e=globalThis,t={},r={},a=e.parcelRequirecf3a;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},e.parcelRequirecf3a=a),(0,a.register)("79buJ",function(e,t){document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("reviews-container"),t=document.getElementById("review-form"),r=document.getElementById("review-name"),a=document.getElementById("review-text"),n=document.getElementById("review-rating"),o=document.getElementById("submit-button"),i=JSON.parse(localStorage.getItem("userProfile"))||{},s=0,l=async()=>{try{let t=await fetch("https://669b6b40276e45187d3569df.mockapi.io/reviews");if(!t.ok)throw Error("Network response was not ok");let r=await t.json();e.innerHTML=r.map(e=>`
                <div class="review">
                    <div class="review__content">
                        <p class="review__name">${e.name}</p>
                        <p class="review__text">${e.text}</p>
                        <p class="review__rating">\u{420}\u{435}\u{439}\u{442}\u{438}\u{43D}\u{433}: ${"★".repeat(e.rating)}</p>
                    </div>
                </div>
            `).join("")}catch(e){console.error("Failed to fetch reviews:",e)}},d=async(e,t,r)=>{try{if(!(await fetch("https://669b6b40276e45187d3569df.mockapi.io/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,text:t,rating:r})})).ok)throw Error("Network response was not ok");l()}catch(e){console.error("Failed to add review:",e)}},c=async e=>{try{let t=await fetch("https://669b6b40276e45187d3569df.mockapi.io/reviews");if(!t.ok)throw Error("Network response was not ok");return(await t.json()).some(t=>t.name===e)}catch(e){return console.error("Failed to check user reviews:",e),!1}},u=e=>{document.querySelectorAll(".star").forEach(t=>{t.classList.toggle("selected",t.dataset.value<=e)})};n.addEventListener("click",e=>{e.target.classList.contains("star")&&u(s=parseInt(e.target.dataset.value,10))}),t.addEventListener("submit",async e=>{e.preventDefault();let t=r.value,n=a.value;t&&n&&s>0&&(await c(t)?alert("Ви вже залишали відгук."):(d(t,n,s),a.value="",u(s=0)))}),l(),i.name?(r.value=i.name,r.readOnly=!0,a.disabled=!1,o.disabled=!1):(r.value="",r.readOnly=!0,a.disabled=!0,o.disabled=!0)})}),a("79buJ");
//# sourceMappingURL=rewiews.246bdc35.js.map
