document.addEventListener("DOMContentLoaded",()=>{let e=JSON.parse(localStorage.getItem("userProfile"))||{},t=document.getElementById("showCourses"),n=document.getElementById("courseModal"),s=document.querySelector(".close"),a=document.getElementById("courseList"),o=document.getElementById("addedCourses"),u=document.getElementById("profileCircle");e.name?(u.textContent=e.name.charAt(0).toUpperCase(),u.href="../pages/settings.html"):(u.style.display="none",t.style.display="none");let l=()=>{o.innerHTML="<h3>Додані курси:</h3>",e.courses&&e.courses.length>0&&e.courses.forEach(e=>{let t=document.createElement("div");t.classList.add("course-box");let n=document.createElement("a");n.textContent=e.name,n.href=e.link,n.classList.add("course-link"),t.appendChild(n),o.appendChild(t)})},c=async t=>{e.courses||(e.courses=[]),e.courses.find(e=>e.id===t.id)?alert("Цей курс вже додано до вашого профілю"):(e.courses.push(t),localStorage.setItem("userProfile",JSON.stringify(e)),await r(e),l(),alert(`\u{41A}\u{443}\u{440}\u{441} ${t.name} \u{434}\u{43E}\u{434}\u{430}\u{43D}\u{43E} \u{434}\u{43E} \u{432}\u{430}\u{448}\u{43E}\u{433}\u{43E} \u{43F}\u{440}\u{43E}\u{444}\u{456}\u{43B}\u{44E}`))},r=async e=>{try{await fetch(`https://669a78899ba098ed61ffc5a3.mockapi.io/accounts/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(e){console.error("Помилка при збереженні курсу до API",e)}};t.onclick=()=>{n.style.display="block"},s.onclick=()=>{n.style.display="none"},window.onclick=e=>{e.target==n&&(n.style.display="none")},a.addEventListener("click",e=>{if(e.target.classList.contains("course-link")){e.preventDefault();let t=e.target;c({id:parseInt(t.getAttribute("data-id")),name:t.getAttribute("data-name"),link:t.getAttribute("href")}),t.style.display="none"}}),l()});
//# sourceMappingURL=courses.f81b1737.js.map
